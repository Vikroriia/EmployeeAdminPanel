{% extends 'base.html.twig' %}

{% block title %}Hello MainController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <div>
        <hi>Employee Admin Panel</hi>
    </div>
    <div>
       {# {{ form_start(formAddNew) }}
        {{ form_widget(formAddNew) }}
        {{ form_end(forAddNew) }}#}
    </div>
    <div>
        <table class="table">
            <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Last Name</th>
                <th scope="col">First Name</th>
                <th scope="col">Patronymic</th>
                <th scope="col">Position</th>
                <th scope="col">Actions
                    <button type="button" class="btn btn-dark" title="Add new"
                            data-toggle="modal" data-target="#addNewFormModal">+</button>
                </th>
            </tr>
            </thead>
            <tbody>
            {% for employee in employees %}
            <tr>
                <th scope="row">{{ employee.id }}</th>
                <td>{{ employee.LastName }}</td>
                <td>{{ employee.FirstName }}</td>
                <td>{{ employee.Patronymic }}</td>
                <td>{% for position in positions %}
                        {% if position.id == employee.Position_id %}
                            {{ position.Name }}
                        {% endif %}
                    {% endfor %}
                </td>
                <td>
                    <a href="" class="btn btn-info">Change</a>
                    <a href="{{ path('remove_employee', {'employee': employee.id} ) }}" class="btn btn-danger">Delete</a>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

    <!--  Modal form for add new employee -->
<div class="modal" id="addNewFormModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="myModalLabel">Add new employee</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">Ã—</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="addNewForm" action="/feedback/process/process.php" enctype="multipart/form-data" novalidate>
                    <div>
                       {# {{ form_start(formAddNew) }}
                        {{ form_widget(formAddNew) }}
                        {{ form_end(forAddNew) }}#}
                        <button type="submit" class="btn btn-success float-right" disabled="disabled">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}
